<!DOCTYPE html>
    <head>
        <title>TaskWarrior Notes</title>
       

<meta content="width=device-width, initial-scale=1.0, maximum-scale=1" name="viewport">
        <link href="https://fonts.googleapis.com/css?family=Libre Franklin" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Source Code Pro" rel="stylesheet">
        <link href="../../css/style.css" rel="stylesheet" type="text/css">

	    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>
        <script src="../../js/highlightjs-line-numbers.js"></script>
        <script>
          hljs.highlightAll();
          hljs.initLineNumbersOnLoad();


        </script>
    </head>
    <body>
        <div id="menu">
            <ul>
                <li><a href="../../index.html">Home</a></li>
                <li><a href="../../about.html">About</a></li>
                <li><a href="../../notes/current-notes.html">Notes</a></li>
                <li><a href="../../tech-stuff.html">Tech Stuff</a></li>
            </ul>
        </div>
        <div id="page">
            <div id="content">
              <div><h1>
<a aria-hidden="true" class="anchor" href="#taskwarrior-notes" id="taskwarrior-notes"><span aria-hidden="true" class="octicon octicon-link"></span></a>TaskWarrior Notes</h1></div>


<div><h1>
<a aria-hidden="true" class="anchor" href="#server" id="server"><span aria-hidden="true" class="octicon octicon-link"></span></a>Server</h1></div>
<div><h2>
<a aria-hidden="true" class="anchor" href="#troubleshooting" id="troubleshooting"><span aria-hidden="true" class="octicon octicon-link"></span></a>Troubleshooting</h2></div>
<div><h3>
<a aria-hidden="true" class="anchor" href="#cant-connect-to-server" id="cant-connect-to-server"><span aria-hidden="true" class="octicon octicon-link"></span></a>Can&#39;t connect to server</h3><pre><code>Could not connect to host port
Sync failed.  Could not connect to the Taskserver.
</code></pre><ul>
<li>log into server</li>
<li><code>cd /var/taskd</code></li>
<li><code>sudo su</code></li>
<li><code>./stop.sh</code></li>
<li><code>./start.sh</code></li>
<li>should be able to connect
<ul>
<li>if not, check the firewall settings
<ul>
<li>make sure port tw is set to is open</li>
</ul>
</li>
</ul>
</li>
</ul></div>


<div><h3>
<a aria-hidden="true" class="anchor" href="#expired-certificate-notes" id="expired-certificate-notes"><span aria-hidden="true" class="octicon octicon-link"></span></a>expired certificate notes</h3><ul>
<li>check main server certificate has renewed
<ul>
<li>if not, renew with certbot
<ul>
<li><code>certbot certonly</code></li>
<li>select option 1 to spin up webserver</li>
<li>check certs are renewed by checking timestamps of files /etc/letsencrypt/live/example.com</li>
<li>should reflect today&#39;s date</li>
</ul>
</li>
</ul>
</li>
<li><code>certtool --verify --infile blah.pem</code></li>
<li><code>certtool -i --infile server.key.pem</code></li>
<li><code>cp /etc/letsencrypt/live/example.com/fullchain.pem server.cert.pem</code></li>
<li>An error occurred while fetching Certbot snap plugins: make sure the snapd service is running.</li>
<li>lsb_release -a</li>
<li>service snapd start</li>
<li>renew cert</li>
<li>make sure snapd is started</li>
<li>copy over pem files in /etc/ to taskwarrior</li>
<li>privkey.pem -&gt; server.key.pem</li>
<li>fullchain.pem -&gt; server.cert.pem</li>
<li>make sure they are owned by taskd</li>
<li>restart taskd with start/stop scripts</li>
<li>taskwarrior should now sync</li>
</ul></div>


            </div>
            <div id="toc">
                <div class="scrollsync">
                <h6>
<a aria-hidden="true" class="anchor" href="#on-this-page" id="on-this-page"><span aria-hidden="true" class="octicon octicon-link"></span></a>On This Page</h6><ul>
<li><a href="#taskwarrior-notes">TaskWarrior Notes</a></li>
<li>
<a href="#server">Server</a>
<ul>
<li>
<a href="#troubleshooting">Troubleshooting</a>
<ul>
<li><a href="#cant-connect-to-server">Can&#39;t connect to server</a></li>
<li><a href="#expired-certificate-notes">expired certificate notes</a></li>
</ul>
</li>
</ul>
</li>
</ul></div><div id="update_date"><span id="update_label">Last updated: </span> March 11, 2022 12:48 PM</div><div id="publish_date"><span id="publish_label">First published: </span>March 11, 2022</div>
            </div>
        </div>
        <script src="../../js/scroll_sync.js"></script>
        <script src="../../js/zenscroll/zenscroll-min.js"></script>
        <script>
          zenscroll.setup(200, 50);
          </script>
    </body>

